# By default - pass the packet.
Chain Default {
    State A {
        move_to = {
            1 = A
        }
        drop = 0
        delay = 0
        time_factor = 100000
    }
}

# The purpose of this chain is to simulate a situation where the host
# "vipe" is normally fine, but there are sometimes periods when it becomes
# noisy and delays packets.
Chain Vipe {
    State Normal {
        time_factor = 5000
        move_to = {
            0.8 = Normal
            0.2 = Noisy
        }        
    }
    State Noisy {
        move_to = {
            0.8 = Noisy
            0.2 = Normal
        }
        drop = 0.2
        delay = 0.4

        delay_type = U(0,3000)

        time_factor = 2000

        stable_delay = 0
    }
   
    # These are the IPs of vipe.technion.ac.il and the local host
    source = 132.69.254.254 ; 132.68.52.118
    dest = 132.69.254.254 ; 132.68.52.118
    
}

